{"version":3,"sources":["store/dispatcher.js","store/actions.js","store/action_type.js","container/input.js","container/header.js","container/profile.js","container/select.js","store/store.js","container/form.js","container/App.js","index.js"],"names":["dispatcher","Dispatcher","updateProfile","id","dispatch","type","sortProfile","key","Input","props","className","inputValid","inputId","name","inputName","inputType","value","inputValue","onChange","inputChange","placeholder","inputPlaceholder","Header","state","filter","handleFilter","bind","e","data","a","target","this","setState","onClick","actions","inputLimit","Component","Profile","age","sex","updatedDate","currentid","Select","selectId","selectName","selectValue","selectChange","selectOptions","map","option","label","store","profiles","defProfile","emit","item","dt","Date","toISOString","d","fl","toLowerCase","includes","length","push","i","updated","splice","sort","b","a0","b0","action","createProfile","deleteProfile","filterProfile","EventEmitter","register","handleAction","Form","validName","validAge","validSex","validMessage","handleSubmit","handleAge","handleSex","handleName","parseInt","validateAge","validateName","message","valid","reg","test","preventDefault","elements","hiddenid","dflt","getDefault","onSubmit","App","getAll","iniPrf","iniProfile","fetch","then","response","json","on","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.c4b2e4db.chunk.js","sourcesContent":["import { Dispatcher } from 'flux';\r\nvar dispatcher=new Dispatcher();\r\nexport default dispatcher;\r\n","import * as ACTION_TYPES from './action_type'\r\nimport dispatcher from \"./dispatcher\"\r\n\r\nexport function createProfile(item,id){\r\n  dispatcher.dispatch({\r\n    type: ACTION_TYPES.CREATEPROFILE,\r\n    id:id,\r\n    item:item\r\n  })\r\n}\r\n\r\nexport function updateProfile(id){\r\n  dispatcher.dispatch({\r\n    type: ACTION_TYPES.UPDATEPROFILE,\r\n    id:id\r\n  })\r\n}\r\n\r\nexport function deleteProfile(id){\r\n  dispatcher.dispatch({\r\n    type: ACTION_TYPES.DELETEPROFILE,\r\n    id:id\r\n  })\r\n}\r\n\r\nexport function sortProfile(key){\r\n  dispatcher.dispatch({\r\n    type: ACTION_TYPES.SORTPROFILE,\r\n    key:key\r\n  })\r\n}\r\n\r\nexport function filterProfile(data){\r\n  dispatcher.dispatch({\r\n    type: ACTION_TYPES.FILTERPROFILE,\r\n    data:data\r\n  })\r\n}\r\n\r\nexport function iniProfile(data){\r\n  dispatcher.dispatch({\r\n    type: ACTION_TYPES.INIPROFILE,\r\n    data:data\r\n  })\r\n}\r\n","export const DELETEPROFILE =\"DELETEPROFILE\"\r\nexport const UPDATEPROFILE =\"UPDATEPROFILE\"\r\nexport const CREATEPROFILE =\"CREATEPROFILE\"\r\nexport const SORTPROFILE =\"SORTPROFILE\"\r\nexport const FILTERPROFILE =\"FILTERPROFILE\"\r\nexport const INIPROFILE =\"INIPROFILE\"\r\n","import React from 'react';\r\nconst Input = (props) => {\r\n  return (\r\n    <input\r\n      className={props.inputValid?\"valid\":\"notvalid\"}\r\n      id={props.inputId}\r\n      name={props.inputName}\r\n      type={props.inputType}\r\n      value={props.inputValue}\r\n      onChange={props.inputChange}\r\n      placeholder={props.inputPlaceholder}\r\n    />\r\n  )\r\n}\r\nexport default Input\r\n","import React, {Component} from 'react';\r\nimport * as actions from '../store/actions';\r\nimport Input from './input';\r\nclass Header extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.handleFilter = this.handleFilter.bind(this);\r\n  }\r\n\r\n  state={\r\n    filter:''\r\n  }\r\n\r\n// Input Form handler handler\r\n  handleFilter(e){\r\n    var a=e.target.value;\r\n    actions.filterProfile(a);\r\n    this.setState({filter:a});\r\n  }\r\n\r\n// Header renderer\r\n  render(){\r\n    return (\r\n      <div>\r\n        <header className=\"App-header\">\r\n          <div className=\"logo\">SimpleApp</div>\r\n          <div className=\"filters r\">\r\n            <button className=\"r\" onClick={()=>{actions.sortProfile(\"age\")}}>Sort By AGE</button>\r\n            <button className=\"r\" onClick={()=>{actions.sortProfile(\"name\")}}>Sort By NAME</button>\r\n            <button className=\"r\" onClick={()=>{actions.sortProfile(\"sex\")}}>Sort By SEX</button>\r\n            <Input inputValid={true} inputName=\"filter\" inputId=\"filter\" inputType=\"text\" inputValue={this.state.filter} inputPlaceholder=\"filter\" inputLimit=\"120\" inputChange={this.handleFilter} />\r\n          </div>\r\n        </header>\r\n      </div>\r\n    );\r\n  }\r\n}\r\nexport default Header;\r\n","import React, {Component} from 'react';\r\nimport * as actions from '../store/actions';\r\nclass Profile extends Component {\r\n  render(){\r\n    return (\r\n      <div className=\"w3\">\r\n        <div className=\"profile\" >\r\n          <h2>{this.props.name}</h2>\r\n          <div className=\"stats c\">\r\n            <div className=\"w2\">age:\r\n              <b>{this.props.age}</b>\r\n            </div>\r\n            <div className=\"w2\">sex:\r\n              <b>{this.props.sex}</b>\r\n            </div>\r\n          </div>\r\n          <div className=\"c\">Updated:\r\n            <b>{this.props.updatedDate}</b>\r\n          </div>\r\n          <div className=\"update c\">\r\n            <div className=\"w2\">\r\n              <button onClick={()=>actions.deleteProfile(this.props.currentid)}>delete</button>\r\n            </div>\r\n            <div className=\"w2\">\r\n              <button onClick={()=>actions.updateProfile(this.props.currentid)}>Change</button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\nexport default Profile;\r\n","import React from 'react';\r\nconst Select = (props) => {\r\n  return (\r\n    <div>\r\n      <select\r\n        id={props.selectId}\r\n        name={props.selectName}\r\n        value={props.selectValue}\r\n        onChange={props.selectChange}\r\n      >\r\n      {props.selectOptions.map(option => (\r\n          <option\r\n            key={option[0]}\r\n            value={option[0]}\r\n            label={option[1]}\r\n          >{option[1]}\r\n          </option>\r\n        )\r\n      )}\r\n    </select>\r\n  </div>\r\n  )\r\n}\r\nexport default Select\r\n","import {EventEmitter} from \"events\"\r\nimport dispatcher from \"./dispatcher\"\r\nimport * as ACTION_TYPES from './action_type'\r\nclass Store extends EventEmitter {\r\n  constructor(){\r\n    super()\r\n    this.store={\r\n      profiles:[],\r\n      defProfile:{\r\n        name:\"\",\r\n        age:20,\r\n        sex:\"O\"\r\n      },\r\n      filter:'',\r\n      id:-1\r\n    }\r\n  }\r\n\r\n  iniProfile(data){\r\n    this.store.profiles=data;\r\n    this.emit(\"change\");\r\n  }\r\n\r\n  createProfile(item,id){\r\n    var dt=new Date();\r\n    item.updatedDate=dt.toISOString()\r\n    var d=this.store.profiles.filter(fl => fl.name.toLowerCase().includes(this.store.filter.toLowerCase()));\r\n    if(id<0 || id>=this.store.profiles.length){\r\n      this.store.profiles.push(item);\r\n    }\r\n    else {\r\n      for(var i in this.store.profiles){\r\n        if(d[id].name===this.store.profiles[i].name\r\n          && d[id].age===this.store.profiles[i].age\r\n          && d[id].sex===this.store.profiles[i].sex\r\n          && d[id].updated===this.store.profiles[i].updated){\r\n            this.store.profiles[i]=item;\r\n        }\r\n      }\r\n    }\r\n    this.store.id=-1;\r\n    this.emit(\"change\");\r\n  }\r\n\r\n  updateProfile(id){\r\n    var d=this.store.profiles.filter(fl => fl.name.toLowerCase().includes(this.store.filter.toLowerCase()));\r\n    if(id in d) {\r\n      this.store.id=id;\r\n      this.emit(\"change\");\r\n    } else {\r\n      this.store.id=-1;\r\n      this.emit(\"change\");\r\n    }\r\n  }\r\n\r\n  deleteProfile(id){\r\n    var d=this.store.profiles.filter(fl => fl.name.toLowerCase().includes(this.store.filter.toLowerCase()));\r\n    for(var i in this.store.profiles){\r\n      if(d[id].name===this.store.profiles[i].name\r\n        && d[id].age===this.store.profiles[i].age\r\n        && d[id].sex===this.store.profiles[i].sex\r\n        && d[id].updated===this.store.profiles[i].updated){\r\n          this.store.profiles.splice(i,1);\r\n          this.emit(\"change\");\r\n      }\r\n    }\r\n  }\r\n\r\n  sortProfile(key){\r\n    this.store.profiles.sort(function(a,b){\r\n      var a0=a[key];\r\n      var b0=b[key];\r\n      if(key===\"name\"){\r\n        a0=a[key].toLowerCase();\r\n        b0=b[key].toLowerCase();\r\n      }\r\n      if(a0>b0){\r\n        return 1;\r\n      } else {\r\n        return -1;\r\n      }\r\n    });\r\n    this.store.id=-1;\r\n    this.emit(\"change\");\r\n  }\r\n\r\n  filterProfile(key){\r\n    this.store.id=-1;\r\n    this.store.filter=key;\r\n    this.emit(\"change\");\r\n  }\r\n\r\n  getAll(){\r\n    return this.store;\r\n  }\r\n\r\n  getDefault(){\r\n    return this.store.defProfile;\r\n  }\r\n\r\n  handleAction(action){\r\n    switch(action.type){\r\n      case ACTION_TYPES.CREATEPROFILE :\r\n        this.createProfile(action.item,action.id);\r\n      break;\r\n      case ACTION_TYPES.UPDATEPROFILE :\r\n        this.updateProfile(action.id);\r\n      break;\r\n      case ACTION_TYPES.DELETEPROFILE :\r\n        this.deleteProfile(action.id);\r\n      break;\r\n      case ACTION_TYPES.FILTERPROFILE :\r\n        this.filterProfile(action.data);\r\n      break;\r\n      case ACTION_TYPES.SORTPROFILE :\r\n        this.sortProfile(action.key);\r\n      break;\r\n      default:{}\r\n    }\r\n  }\r\n}\r\n\r\nvar store=new Store()\r\ndispatcher.register(store.handleAction.bind(store));\r\nexport default store\r\n","import React, {Component} from 'react';\r\nimport Input from './input';\r\nimport Select from './select';\r\nimport store from \"../store/store\"\r\nimport * as actions from \"../store/actions\"\r\n\r\n// Form component\r\nclass Form extends Component {\r\n// Binding data\r\n  constructor(props) {\r\n    super(props);\r\n    this.handleSubmit = this.handleSubmit.bind(this);\r\n    this.handleAge = this.handleAge.bind(this);\r\n    this.handleSex = this.handleSex.bind(this);\r\n    this.handleName = this.handleName.bind(this);\r\n  }\r\n\r\n  state={\r\n    validName:true,\r\n    validAge:true,\r\n    validSex:true,\r\n    validMessage:'',\r\n    name:\"\",\r\n    age:20,\r\n    sex:\"O\"\r\n  }\r\n\r\n// Input form handler\r\n  handleAge(e){\r\n    var a=parseInt(e.target.value);\r\n    this.validateAge(a);\r\n    this.setState({age:a});\r\n  }\r\n\r\n// Select form handler\r\n  handleSex(e){\r\n    var a=e.target.value;\r\n    this.setState({sex:a});\r\n  }\r\n\r\n// Input form handler\r\n  handleName(e){\r\n    var a=e.target.value;\r\n    this.validateName(a);\r\n    this.setState({name:a});\r\n  }\r\n\r\n// Validation the name input\r\n  validateName (data,message=''){\r\n    var valid=true;\r\n    var reg = /^[a-z]+$/i;\r\n    if(!(reg.test(data))){\r\n      valid=false;\r\n      message=\"NAME should contain only [a-z] letters\";\r\n    }\r\n    if(data.length>10){\r\n      valid=false;\r\n      message=\"NAME should be shorter than 11 Leters\";\r\n    }\r\n    if(data.length<2){\r\n      valid=false;\r\n      message=\"NAME should have at least 2 Leters\";\r\n    }\r\n    this.setState({\r\n      validMessage:message,\r\n      validName:valid\r\n    });\r\n    return valid\r\n  }\r\n\r\n// Validation the age input\r\n  validateAge (data,message=''){\r\n    var valid=true;\r\n    if(data<2){\r\n      valid=false;\r\n      message=\"AGE should be above 1\";\r\n    }\r\n    if(data>129){\r\n      valid=false;\r\n      message=\"AGE should be bellow 130\";\r\n    }\r\n    this.setState({\r\n      validMessage:message,\r\n      validAge:valid\r\n    })\r\n    return valid\r\n  }\r\n\r\n// save the inputed fields to the store\r\n  handleSubmit(e) {\r\n    e.preventDefault();\r\n    if(this.validateName(e.target.elements.name.value,'')){\r\n      if(this.validateAge(e.target.elements.age.value,'')){\r\n        var item={\r\n          name:e.target.elements.name.value,\r\n          age:e.target.elements.age.value,\r\n          sex:e.target.elements.sex.value\r\n        };\r\n        actions.createProfile(item,e.target.elements.hiddenid.value);\r\n        let dflt = store.getDefault();\r\n        this.setState({\r\n          name:dflt.name,\r\n          age:dflt.age,\r\n          sex:dflt.sex\r\n        })\r\n      }\r\n    }\r\n  }\r\n\r\n  componentWillMount(){\r\n    this.setState({\r\n      name:this.props.item.name,\r\n      age:this.props.item.age,\r\n      sex:this.props.item.sex,\r\n    })\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <form onSubmit={this.handleSubmit} >\r\n        <div className=\"w3\" >\r\n          <div className=\"profile\" >\r\n            <h2>\r\n              <Input inputValid={this.state.validName} inputName=\"name\" inputId=\"name\" inputType=\"text\" inputValue={this.state.name} inputPlaceholder=\"name\" inputChange={this.handleName} />\r\n            </h2>\r\n            <div className=\"stats c\">\r\n              <div className=\"w2\">age:\r\n                <Input inputValid={this.state.validAge} inputName=\"age\" inputId=\"age\" inputType=\"number\" inputValue={this.state.age} inputPlaceholder=\"age\" inputLimit=\"120\" inputChange={this.handleAge} />\r\n              </div>\r\n              <div className=\"w2\">sex:\r\n                <Select inputValid={this.state.validSex} selectName=\"sex\" selectId=\"sex\" selectChange={this.handleSex} selectValue={this.state.sex} selectOptions={[[\"F\",\"female\"],[\"M\",\"male\"],[\"O\",\"Other\"]]}/>\r\n              </div>\r\n            </div>\r\n            <div className=\"c\">\r\n              <b>{this.state.validMessage}</b>\r\n            </div>\r\n            <div className=\"update c\">\r\n              <Input inputName=\"hiddenid\" inputId=\"hiddenid\" inputType=\"hidden\" inputValue={this.props.currentid} inputPlaceholder=\"hiddenid\" inputLimit=\"99999\"/>\r\n              <div className=\"w2\">\r\n                <button type=\"submit\">{this.props.currentid<0 ?\"Create\":\"Update\"}</button>\r\n              </div>\r\n              <div className=\"w2\">\r\n                {this.props.currentid>=0 &&\r\n                  <button onClick={()=>actions.updateProfile(-1)} type=\"button\">Cancel</button>\r\n                }\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </form>\r\n    )\r\n  }\r\n}\r\nexport default Form\r\n","import React, {Component} from 'react';\nimport Header from \"./header\"\nimport Profile from \"./profile\"\nimport Form from \"./form\"\nimport store from \"../store/store\"\n\n\nclass App extends Component {\n  state={\n    store:store.getAll()\n  }\n  \n// Binding data\n  constructor(props) {\n    super(props);\n    this.iniPrf = this.iniPrf.bind(this);\n  }\n\n// Inititation of data when loaded\n  iniPrf (data){\n    store.iniProfile( data )\n  }\n\n// Loading data once is the Element ready\n  componentWillMount () {\n    fetch('/data/data.json')\n      .then(response => response.json())\n      .then(data => this.iniPrf(data));\n    store.on(\"change\",()=>{\n      this.setState({\n        store:store.getAll()\n      })\n    })\n  }\n\n// Condiditional Render the form or profile\n  render(){\n    return (\n      <div className=\"App\">\n        <Header filter={this.state.store.filter} />\n        {this.state.store.profiles\n          .filter(fl => fl.name.toLowerCase().includes(this.state.store.filter.toLowerCase()))\n          .map((item,id)=>(\n            <div key={id}>\n              {this.state.store.id==id?\n                <Form id={id} currentid={id} item={item}/>\n              :\n                <Profile currentid={id}  {... item}/>\n              }\n            </div>\n          ))\n        }\n        <div className=\"c\">\n          {(this.state.store.id<0 && this.state.store.filter==='') &&\n            <Form key=\"-1\" currentid=\"-1\"  item={this.state.store.defProfile}/>\n          }\n        </div>\n      </div>\n    );\n  }\n}\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './container/App';\nReactDOM.render(\n  <App />,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}